
<%= link_to 'Back', admin_index_path%>


<% if params[:id].to_i==1 %>

<h2>:::Add Student:::</h2>

<%= form_with(model: @user,url: admin_index_path) do |f|%>
  
  <% if @user.errors.any? %>

    <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

    <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>


  <div class="field">
    <%= f.label :enrollment %><br />
    <%= f.text_field :enrollment, autofocus: true, autocomplete: "enrollment" %>
  </div>

  <div class="field">
    <%= f.label :semester %><br />
    <%= select_tag(:sem,  options_from_collection_for_select(Semester.all, :id, :sem), {:class=>'form-control', :prompt => 'Select Semester'}) %>
  </div>


  <div class="field">
    <%= f.label :branch %><br />
    <%= select_tag(:branch,  options_from_collection_for_select(Branch.all, :id, :name), {:class=>'form-control', :prompt => 'Select Branch'}) %>
  </div>

  <div class="field">
    <%= f.label :pyear %><br />
    <%= f.text_field :pyear, autofocus: true, autocomplete: "pyear" %>
  </div>

  <div class="field">
    <%= f.label :password %>
    <% if @minimum_password_length %>
    <em>(<%= @minimum_password_length %> characters minimum)</em>
    <% end %><br />
    <%= f.password_field :password, autocomplete: "new-password" %>
  </div>

  <div class="field">
    <%= f.label :password_confirmation %><br />
    <%= f.password_field :password_confirmation %>
  </div>

  <div class="actions">
    <%= f.submit "Register" %>
  </div>

<% end %>


<% elsif params[:id].to_i==2 %>
<h2>:::Add Faculty:::</h2>

<%= form_with(model: @user,url: admin_index_path) do |f|%>

<% if @user.errors.any? %>

      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
  <% end %>

  <div class="field">
    <%= f.label :first_name %><br />
    <%= f.text_field :fname, autofocus: true, autocomplete: "fname" %>
  </div>

  <div class="field">
    <%= f.label :last_name %><br />
    <%= f.text_field :lname, autofocus: true, autocomplete: "lname" %>
  </div>

  <div class="field">
    <%= f.label :email %><br />
    <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
  </div>

   <div class="field">
    <%= f.label :mobile %><br />
    <%= f.text_field :mobile, autofocus: true, autocomplete: "mobile" %>
  </div>

  <div class="field">
    <%= f.label :branch %><br />
    <%= select_tag(:branch,  options_from_collection_for_select(Branch.all, :id, :name), {:class=>'form-control', :prompt => 'Select Branch'}) %>
  </div>

  <div class="field">
    <%= f.label :password %>
    <% if @minimum_password_length %>
    <em>(<%= @minimum_password_length %> characters minimum)</em>
    <% end %><br />
    <%= f.password_field :password, autocomplete: "new-password" %>
  </div>

  <div class="field">
    <%= f.label :password_confirmation %><br />
    <%= f.password_field :password_confirmation %>
  </div>

  

  <div class="actions">
    <%= f.submit "Register" %>
  </div>
<% end %>

<div>
    <center>
      <table class="roundedCorners">

        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Branch</th>
            <th>Mobile</th>
            <th>Status</th>
          </tr>
        </thead>


        <%@usershow.each do |i|%>
        <%if i.has_role? (:faculty)%>
          <tr>
            
            <td><%=i.fname %></td>
            <td><%=i.lname %></td>
            <td><%=i.email %></td>
            <td><%=i.branch %></td>
            <td><%=i.mobile %></td>
            <td><%=i.status %></td>  
            
          </tr>
          <% end %>
        <% end %>

        


      </table>
    </center>
  </div>


<% else%>
<h2>Else Part</h2>
<%end%>
